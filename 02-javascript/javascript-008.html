<!-- Descobrir com o chatGPT qual é o erro -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Lista de neo</h1>
    <ul id="neo-list">
        
    </ul>
    <script> 
        class Neo { 
        constructor(id, name, averageEstimatedDiameter, isSentry) {
            this.id = id
            this.name = name
            this.averageEstimatedDiameter = averageEstimatedDiameter
            this.isSentry = isSentry
        }
        }


        async function getNeos() {
        const response = await fetch("https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=DEMO_KEY")
        const result = await response.json()
        return result["near_earth_objects"]
        }

        async function loadNeos() {
        let neos = []
        let neosJSON = await getNeos()
        neosJSON.forEach(neo => {
            const minDiameter = neo["estimated_diameter"]["kilometers"]["estimated_diameter_min"]
            const maxDiameter = neo["estimated_diameter"]["kilometers"]["estimated_diameter_max"]
            const averageDiameter = (minDiameter + maxDiameter) / 2
            const newNeo = new Neo(neo["id"], neo["name"], averageDiameter, neo["is_sentry_object"])
            neos.push(newNeo)
        })
        console.log(neos)
        }

        function renderNEOs(neos){
            const ulElement = document.getElementById("neo-list")
            neos.forEach(neo => {
                const liElement = document.createElement("li")
                const isSentry = neo.isSentry ? "Perigo de colisão" : "Sem perigo de colisão"
                const text = `${neo.id} | ${neo.name} | ${neo.averageEstimatedDiameter} | ${isSentry}`
                liElement.innerHTML = text
                ulElement.appendChild(liElement)
            })
        }

        renderNEOs(neos)
    </script>
</body>
</html>